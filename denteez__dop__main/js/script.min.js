$(function(){"use strict";$.ajax({type:"GET",url:"http://504080.com/api/v1/directories/enquiry-types",dataType:"json",success:function(a){var b,c;console.log("data.data",a.data),b=$("#tmpl").html(),c=tmpl(b,a),$(".input__select").append(c)}}),console.log("curSel"),$(".log__in").click(function(){$(".modal__window").css({display:"block"});var a={changedEl:".input__select select",scrollArrows:!1};cuSel(a),$(".select__main").change(function(){console.log("place");var a;a=$(".select__main #idSelect").val(),~a.indexOf("Password")?$(".input__select").append('<div class="input_new"><input placeholder="'+a+'" type="password" name="'+a+'" class="input__input" autocomplete="on" ></div>'):$(".input__select").append('<div class="input_new"><input placeholder="'+a+'" type="text" name="'+a+'" class="input__input" autocomplete="on" ></div>')}),$(".input__input").autocomplete,console.log($(".input__input").val()),$(".submit").click(function(){function a(a){var b;switch(a=b,0){case d.length:return 1;case e.length:return 1;case f.length:return 1;case g.length:return 1;case c.length:return 1}}var b,c,d=$(".input__name").val(),e=$(".input__email").val(),f=$(".input__subject").val(),g=$(".input__description").val();if($(".input__input").autocomplete,console.log($(".input__input").val()),c=$(".input__input").val(),d=$.trim(d),e=$.trim(e),f=$.trim(f),g=$.trim(g),c=$.trim(c),$(".errors").html("<p></p>"),1===a(b))$(".errors").html("<p>Не заполненны обязательные поля</p>");else{if(g.length>1e3)return console.log("polya OK!"),$(".errors").html("<p>Количество знаков >1000</p>"),!1;console.log("<1000 OK!");var h=/^\w+@\w+\.\w{2,10}$/i;if(h.test(e)){var i=$("#form-id").serialize();$.ajax({type:"POST",url:"http://504080.com/api/v1/support",data:i,success:function(a){},error:function(a,b){alert("Возникла ошибка: "+a.responseCode)}}),$(".input__name").val(""),$(".input__email").val(""),$(".input__subject").val(""),$(".input__description").val(""),alert("данные отправлены!"),$(".modal__window").hide(),$("div.input_new").remove()}else $(".errors").html("<p>email not correct</p>")}})})});